<!-- 
  Mapresso (é›™åŒ—å’–å•¡å»³è³‡è¨Šç¶²ç«™)
  æ›´æ–°ç´€éŒ„ï¼š
  1. ç§»é™¤æ‰€æœ‰ Firebase Firestore ç›¸é—œç¨‹å¼ç¢¼ï¼Œæ”¹ç‚ºç´”æœ¬æ©Ÿè³‡æ–™ç®¡ç†ã€‚
  2. ã€Œæˆ‘çš„æ”¶è—ã€åŠŸèƒ½ç¾åœ¨ä½¿ç”¨ç€è¦½å™¨çš„ localStorage é€²è¡Œæœ¬åœ°å„²å­˜ã€‚
  3. ç§»é™¤ä½¿ç”¨è€…èªè­‰èˆ‡ ID é¡¯ç¤ºã€‚
-->
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapresso: ä¸€éµæŠµé”ï¼Œä½ æƒ³æ‰¾çš„é‚£é–“å’–å•¡å»³ | é›™åŒ—å’–å•¡åœ°åœ–</title>
    
    <!-- 1. è¼‰å…¥ Google Fonts: Noto Serif TC (æ¨™é¡Œç”¨) èˆ‡ Noto Sans TC (å…§æ–‡ç”¨) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500&family=Noto+Serif+TC:wght@600;700&display=swap" rel="stylesheet">
    
    <!-- è¼‰å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- è¼‰å…¥ Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- è¨­å®š Tailwind é…ç½® -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'apricot': '#F5EDE2', // æ·ºæè‰²
                        'deep-brown': '#4A2E2A', // æ·±å’–å•¡æ£•
                        'icy-blue': '#A9D7E0', // å†°è–„è·è—
                    },
                    fontFamily: {
                        // å…§æ–‡ç¶­æŒç„¡è¥¯ç·šé«” (ç¾ä»£ã€ä¹¾æ·¨)
                        sans: ['"Noto Sans TC"', 'Inter', 'sans-serif'],
                        // æ¨™é¡Œæ”¹ç”¨è¥¯ç·šé«” (æ–‡è—ã€å„ªé›…)
                        serif: ['"Noto Serif TC"', 'serif'],
                    },
                }
            }
        }
    </script>
    <style>
        /* æ•´é«”é¢¨æ ¼è¨­å®š */
        body {
            font-family: 'Noto Sans TC', sans-serif; /* é è¨­å…§æ–‡ */
            background-color: #F5EDE2;
            color: #4A2E2A;
        }
        /* æ–‡è—æ„Ÿæ»¾å‹•æ¢ */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-thumb {
            background: #A9D7E0;
            border-radius: 4px;
        }
        .modal-overlay {
            background-color: rgba(74, 46, 42, 0.8);
            backdrop-filter: blur(4px);
        }
        #favorites-section:empty {
            /* ç‚ºäº†ç¢ºä¿åœ¨æ”¶è—åˆ—è¡¨ç‚ºç©ºæ™‚ï¼Œä»é¡¯ç¤ºæ¨™é¡Œå’Œæç¤º */
            /* æ•…ä¸ä½¿ç”¨ :empty */
        }
    </style>
</head>
<body class="min-h-screen antialiased">

    <!-- ç§»é™¤ Firebase SDK ç›¸é—œç¨‹å¼ç¢¼ï¼Œæ”¹ç‚ºç´” JavaScript è™•ç†è³‡æ–™ -->
    <script>
        window.cafes = [];
        window.favorites = {};
        
        // LocalStorage Key
        const FAVORITES_KEY = 'mapresso_local_favorites';

        // --- æœ¬åœ°è³‡æ–™ç®¡ç†å‡½å¼ ---

        /** è¼‰å…¥æœ¬åœ°æ”¶è—è³‡æ–™ */
        const loadLocalFavorites = () => {
            try {
                const stored = localStorage.getItem(FAVORITES_KEY);
                window.favorites = stored ? JSON.parse(stored) : {};
            } catch (e) {
                console.error("ç„¡æ³•è¼‰å…¥æœ¬åœ°æ”¶è—è³‡æ–™:", e);
                window.favorites = {};
            }
        };

        /** å„²å­˜æœ¬åœ°æ”¶è—è³‡æ–™ */
        const saveLocalFavorites = () => {
            try {
                localStorage.setItem(FAVORITES_KEY, JSON.stringify(window.favorites));
            } catch (e) {
                console.error("ç„¡æ³•å„²å­˜æœ¬åœ°æ”¶è—è³‡æ–™:", e);
            }
        };

        // Mock Data (ç¡¬ç·¨ç¢¼çš„åŸå¸‚è³‡æ–™)
        const mockCafesData = [
            {
                id: 1, name: "é„°å±… â€¢ Le Voisin", district: "ä¿¡ç¾©å€", tags: ["é ç´„åˆ¶", "å¹³æ—¥ä¸é™æ™‚", "å±…å®¶é¢¨æ ¼", "æ³•å¼è¼•é£Ÿ"],
                category: "æ‹ç…§æ‰“å¡", feature: "æ‰“é€ å±…å®¶é¢¨æ ¼è£æ½¢ï¼Œæ°£æ°›ä½³é©åˆæ‹ç…§èˆ‡æ”¾é¬†",
                desc: "Le Voisin-ä¿¡ç¾©å€å¾Œå±±åŸ¤é ç´„åˆ¶å’–å•¡å»³ å±…å®¶é¢¨æ ¼çš„æ³•å¼è¼•é£Ÿ", low_cost: "æ¯äººä½æ¶ˆ300å…ƒ/120åˆ†é˜",
                notice: "å¦‚æœæ“”å¿ƒèˆ‡ä¸èªè­˜çš„äººä½µæ¡Œ<br>å»ºè­°3~4æœ‹å‹ä¸€åŒå‰å¾€", hours: "ç‡Ÿæ¥­æ™‚é–“11:00ï½21:00<br>ï¼ˆé€±å››å…¬ä¼‘åŠæ¯é€±ä¸‰è‡³18é»ï¼‰",
                address: "è‡ºåŒ—å¸‚ä¿¡ç¾©å€æ¾å±±è·¯287å··42è™Ÿ1æ¨“", image: "https://www.popdaily.com.tw/shaper/u/202307/00337a79-1be6-428c-8464-13019fdcc17e.jpeg?resize-w=1700&resize-h=884&format=webp"
            },
            {
                id: 2, name: "å–œéµ²å’–å•¡", district: "å¤§å®‰å€", tags: ["ä¸é™æ™‚", "æœ‰æ’åº§", "åƒ…æ”¶ç¾é‡‘", "é©åˆå·¥ä½œ"],
                category: "è®€æ›¸è¾¦å…¬", feature: "ä¸é™æ™‚å¯è®€æ›¸ä¹…åï¼Œä¸»æ‰“è‡ªå®¶çƒ˜ç„™",
                desc: "æ„œæ„çš„å’–å•¡å»³ï¼Œè²©å”®ç³•é»ã€è‚‰æ¡‚æ²å’Œä¸‰æ˜æ²»ç­‰è¼•é£Ÿï¼Œå¦æœ‰å’–å•¡å’ŒèŒ¶é£²ã€‚", low_cost: "ä½æ¶ˆä¸€æ¯é£²å“",
                notice: "å–œéµ²å’–å•¡é–€å‰çš„é¨æ¨“å€åŸŸæ˜¯ä¸å¯ä»¥æŠ½è¸çš„ï½<br>åƒ…æ”¶ç¾é‡‘è¦æ³¨æ„å‘¦!!", hours: "æ¯æ—¥ 13:00â€“22:45",
                address: "è‡ºåŒ—å¸‚å¤§å®‰å€ç¾…æ–¯ç¦è·¯ä¸‰æ®µ269å··74è™Ÿ", image: "https://whos-talking.com/wp-content/uploads/2024/09/DSC_4882-%E5%B7%B2%E5%A2%9E%E5%BC%B7-%E9%9B%9C%E8%A8%8A%E6%B8%9B%E5%B0%91-1-2048x1365.jpg"
            },
            {
                id: 3, name: "clip coffee Taipei", district: "æ¾å±±å€", tags: ["ä¸é™æ™‚", "å¯µç‰©å‹å–„", "æ–‡é’æ°›åœ", "è¤‡åˆå¼ç©ºé–“"],
                category: "èŠå¤©èšæœƒ", feature: "ä»¥æœ¨è³ªèª¿è£æ½¢ç‚ºä¸»ï¼Œå‰µé€ æº«æš–åˆèˆ’é©çš„æ°›åœ",
                desc: "ç”œé»å¥½åƒã€å’–å•¡å“è³ªç©©å®šï¼Œç©ºé–“ä¸é™æ™‚åˆå¯µç‰©å‹å–„ï¼Œä¸ç®¡æ˜¯æƒ³æ”¾é¬†é‚„æ˜¯è·Ÿæœ‹å‹èŠå¤©éƒ½å¾ˆé©åˆã€‚", low_cost: "ä¸€æ¯é£²å“",
                notice: "å®¢æ»¿é™æ™‚90åˆ†é˜<br>å¾å—äº¬é–‹ä¾†å°åŒ—çš„å’–å•¡å»³", hours: "é€±äºŒè‡³é€±æ—¥ 09:00â€“18:00",
                address: "è‡ºåŒ—å¸‚æ¾å±±å€æ–°ä¸­è¡—6å··3è™Ÿ1æ¨“", image: "https://damei17.com/wp-content/uploads/2024/09/clip-coffee-Taipei-14.jpg"
            },
            {
                id: 4, name: "é€ ç³•çš„äºº", district: "ä¸­å±±å€", tags: ["è›‹ç³•", "æœ‰è¶£ææ€ª", "y2k", "å¾©å¤å¯æ„›"],
                category: "ç‰¹è‰²é£²å“", feature: "ä¸ç®—å¤ªç³Ÿç³•çš„äºº ä½† è£½é€ è›‹ç³•å°ˆé–€ã€‚",
                desc: "é€ ç³•çš„äººæ˜¯ä¸€å®¶ä¸»æ‰“é¦–åº§è›‹ç³•çš„å’–å•¡å»³ã€‚å“ç‰Œå®—æ—¨å°±æ˜¯é–‹å¿ƒç¬¬ä¸€ï¼Œè£æ½¢åŒ…æ‹¬è›‹ç³•éƒ½å¸¶æœ‰ä¸€é»ã€ŒæŠ½è±¡ã€çš„è©¼è«§å¾©å¤é¢¨æ ¼ã€‚å–œæ­¡ææ€ªçš„è©±ï¼Œé‚£ä½ ä¸€å®šä¸èƒ½éŒ¯éé€™å®¶åˆæ€ªåˆå¯æ„›çš„åº—ï¼", low_cost: "ä¸€æ¯é£²å“",
                notice: "æ¯é€±ä¸€ã€äºŒç„¡å…§ç”¨ï¼Œåªé–‹æ”¾è‡ªå–è›‹ç³•", hours: "é€±ä¸‰è‡³é€±æ—¥ 13:00-19:00",
                address: "è‡ºåŒ—å¸‚ä¸­å±±å€é•·å®‰æ±è·¯ä¸€æ®µ45ä¹‹2è™Ÿ2æ¨“", image: "https://img.girlstalk.cc/images/author/Melody/%E9%80%A0%E7%B3%95%E7%9A%84%E4%BA%BA0001.jpg"
            },
            {
                id: 5, name: "ç–å®…Egghostä¸‰å…ƒåº—", district: "ä¸­æ­£å€", tags: ["æˆšé¢¨è›‹ç³•", "æ—¥ç³»æœ¨è³ªèª¿", "ä¸é™æ™‚"],
                category: "èŠå¤©èšæœƒ", feature: "ã€Œç–ã€=ã€Œè›‹ã€æ˜¯ç”œé»ã„‰éˆé­‚ï¼Œæˆ‘å€‘æ˜¯å®…å¸Œæœ›ä½ ä¾†å°±åƒå›åˆ°å®¶",
                desc: "ã€Œç–å®…ã€èª•ç”Ÿæ–¼ä¸‰å€‹äººçš„ä¿¡å¿µâ€”â€”å°ç¾çš„æ•éŠ³ã€å°è‡ªç”±çš„åŸ·è‘—ã€å°æº«æŸ”çš„å …æŒã€‚æˆ‘å€‘ç›¸ä¿¡ï¼Œæœ€ç´”ç²¹çš„æ»‹å‘³ä¾†è‡ªæœ€æ¨¸å¯¦çš„é£Ÿæã€‚", low_cost: "è¨‚ä½ä½æ¶ˆã€Œ1ï¼‹1ã€ï¼šæ¯äººä¸€æ¯é£²å“ï¼‹ä¸€ä»½é¤é»",
                notice: "ä¸å®šæœŸå…¬ä¼‘<br>åªé™è²“å’ªèƒ½é€²å…¥å…§ï¼æœ‰ğŸ±åº—é•·", hours: "é€±ä¸€è‡³é€±å››12:00-21:00/é€±äº”è‡³é€±æ—¥12:00-23:00 ",
                address: "è‡ºåŒ—å¸‚ä¸­æ­£å€ä¸‰å…ƒè¡—176è™Ÿ1æ¨“", image: "https://www.jeremyfoodie.tw/wp-content/uploads/2024/07/20240715_191333-2.jpg"
            },
            {
                id: 6, name: "LEIBLE COFFEE", district: "å£«æ—å€", tags: ["æ¾³å¼å’–å•¡", "å’–å•¡å† è»", "æ¸…æ–°æ£®ç³»"],
                category: "ç‰¹è‰²é£²å“", feature: "æ¾³æ´²ç²¾å“å’–å•¡ã€ŒLEIBLE COFFEEã€ç™»å°é¦–åº—",
                desc: "æ¡ç”¨ç¨æ£Ÿè£æ½¢ï¼Œå»¶çºŒå“ç‰Œæ¨™èªŒæ€§çš„é¼ å°¾è‰ç¶ æ­é…åŠå¤šå±¤èˆ’é©ç©ºé–“ï¼Œè³¦äºˆåº—å…§æ…¢æ‚ æ„œæ„çš„æ°›åœï¼Œç‚ºå’–å•¡æ„›å¥½è€…æ‰“é€ å°åŒ—å…¨æ–°å’–å•¡æ–‡åŒ–é›†æ•£åœ°ï¼", low_cost: "ä¸€æ¯é£²å“",
                notice: "å°åŒ—é™å®šèœå–®ï¼Œå†°å¥¶æ²¹å’–å•¡ã€å­£ç¯€é™å®šçš„è”æå†·èƒå’–å•¡", hours: "æ¯æ—¥ 11:00-19:00",
                address: "å°åŒ—å¸‚å£«æ—å€æ–‡æ—è·¯294è™Ÿ", image: "https://hips.hearstapps.com/hmg-prod/images/c-66ac808293441.jpg?crop=1.00xw:1.00xh;0,0&resize=1400:*"
            },
            {
                id: 7, name: "æ—¥è±ä¼æ¥­ç¤¾", district: "æ–°èŠå€", tags: ["å·¥æ¥­é¢¨æ ¼", "è»Šå» æ”¹é€ ", "æˆšé¢¨è›‹ç³•"],
                category: "ç‰¹è‰²é£²å“", feature: "æ–°èŠæœ€çŸ¥åçš„å’–å•¡å»³ä¹‹ä¸€ï¼Œæ˜¯é–“çµåˆä¿®è»Šå» çš„å’–å•¡å»³ã€‚",
                desc: "åœ¨ä¿®è»Šå» å…§åƒç”œé»ï¼Ÿé•å’Œä½†æœ‰è¶£ã€‚è£æ½¢å‘ˆç¾è€å¼å·¥æ¥­é¢¨æ ¼ï¼Œæ–°èŠé«˜äººæ°£æˆšé¢¨è›‹ç³•ç¥åº—ã€‚", low_cost: "ä¸€æ¯é£²å“",
                notice: "ç„¡æ¥å—è¨‚ä½ï¼Œå¯é ç•™ç”œé»<br>è‹¥æœ‰äººå€™ä½ï¼Œé™æ™‚ä¸€å°æ™‚", hours: "13:00-1ï¼˜:00(é€±ä¸€å…¬ä¼‘)",
                address: "æ–°åŒ—å¸‚æ–°èŠå€ä¸­è¯è·¯äºŒæ®µ33è™Ÿ", image: "https://yes.rita-life.com/upload/202208/04/IMG_3221.jpg"
            },
            {
                id: 8, name: "ç¶ å’–ç”Ÿæ´»æ¦‚å¿µåº—", district: "å¤§å®‰å€", tags: ["æ¤ç‰©ç³»", "è€å®…å’–å•¡", "æ›¾ä¹‹å–¬"],
                category: "æ‹ç…§æ‰“å¡", feature: "ã€Œ å¦‚æœä½ æ˜¯ç¶ è‘‰ï¼Œä¸ç”¨æŠŠè‡ªå·±å¼·è£æˆèŠ±ï¼šï¼‰ ã€",
                desc: "ä¹˜è¼‰è‘—æ—¥å…‰çš„æ˜äº®ï¼Œæ¤ç‰©çš„ç¶ æ„å……ç›ˆæœŸé–“ï¼Œæ–½å±•è‘—æœ€æº«æŸ”çš„å…‰åˆä½œç”¨ï¼Œé€™è£¡å®›å¦‚åŸå¸‚è£¡çš„ç¶ æ´²ï¼Œç©ºé–“ç¾å¾—è®“äººå¿«é–€æŒ‰ä¸åœã€‚", low_cost: "ä¸€æ¯é£²å“",
                notice: "æ¡ç¾å ´åŠè¨‚ä½åˆ¶ï¼Œè«‹è‡³inlineç¶²å€è¨‚ä½<br>è—äººã€Œæ›¾ä¹‹å–¬ã€(å–¬å–¬)æ‰€é–‹è¨­", hours: "11:00-18:00 ï¼ˆé€±äºŒå…¬ä¼‘ï¼‰",
                address: "å°åŒ—å¸‚å¤§å®‰å€å»¶å‰è¡—244è™Ÿ2æ¨“", image: "https://annieko.tw/wp-content/uploads/20240819202059_0_9bdc66.jpg"
            },
            {
                id: 9, name: "ç‰¹æœ‰ç¨®å•†è¡Œ", district: "ä¸­æ­£å€", tags: ["é›»å½±é“å…·", "é­å¾—è–", "å¯µç‰©å‹å–„"],
                category: "è®€æ›¸è¾¦å…¬", feature: "é‡‘é¦¬çå°æ¼”é­å¾·è–çš„é›»å½±å±•ç¤ºé–“",
                desc: "é€™é–“ç¶ æ„ç›ç„¶çš„å’–å•¡é¤¨ä»¥æ‡·èˆŠé›»å½±é“å…·è£é£¾ç‚ºç‰¹è‰²ï¼Œä¾›æ‡‰å’–å•¡ã€èŒ¶é£²ã€ç•¶åœ°è¼•é£Ÿï¼Œä¸¦è²©å”®é›»å½±å‘¨é‚Šå•†å“ã€‚ï¼", low_cost: "ä¸€æ¯é£²å“æˆ–é¤é»",
                notice: "ä¸é™æ™‚ï¼Œç„¡æœå‹™è²»ï¼Œé™„wifi<br>åº—å…§å±•ç¤ºé­å°é›»å½±é“å…·åŠæ‰‹ç¨¿ï½", hours: "æ¯æ—¥ 11:30-21:30",
                address: "è‡ºåŒ—å¸‚ä¸­æ­£å€è‡¨æ²‚è¡—27å··4-1è™Ÿ", image: "https://rocky.tw/wp-content/uploads/%E7%89%B9%E6%9C%89%E7%A8%AE%E5%95%86%E8%A1%8C1-4400.jpg"
            },
            {
                id: 10, name: "Le Cinq", district: "ä¿¡ç¾©å€", tags: ["æ³•å¼æ­é¢¨", "è³ªæ„Ÿ", "å‡ºç‰‡å’–å•¡å»³"],
                category: "æ‹ç…§æ‰“å¡", feature: "èµ°é€²å·´é»è¡—é ­ï¼šæµªæ¼«å¯«æ„çš„ã€ŒCafÃ© Le Cinqã€",
                desc: "ä½æ–¼å°åŒ—ä¿¡ç¾©ï¼Œå±•ç¾å‡ºæ¿ƒåšçš„æ³•å¼æµªæ¼«æ°›åœï¼Œå¾©å¤æ­é¢¨è£æ½¢è®“äººå½·å½¿ç½®èº«æ–¼å·´é»è¡—é ­ï¼Œä»¤äººä¸€ç§’ç½®èº«æ³•åœ‹çš„æµªæ¼«æ°›åœã€‚", low_cost: "ä¸€æ¯é£²å“",
                notice: "ç„¡æä¾›è¨‚ä½/åƒ…æ”¶ç¾é‡‘", hours: "11:00-18:00 (é€±ä¸€å…¬ä¼‘)",
                address: "è‡ºåŒ—å¸‚ä¿¡ç¾©å€åŸºéš†è·¯ä¸€æ®µ83å··12è™Ÿ1æ¨“", image: "https://liyuyu.blog/wp-content/uploads/2022/05/20220517225054_73.jpg"
            },
            {
                id: 11, name: "å®‰å ¤ãƒ»å¸æœµ Antieâ€™s Store", district: "å…§æ¹–å€", tags: ["æµªæ¼«æº«é¦¨", "è‹±å¼é¢¨æƒ…", "æ‰‹å·¥é™é‡ä¸‹åˆèŒ¶"],
                category: "èŠå¤©èšæœƒ", feature: "é˜¿å¬¤è·Ÿå¾ˆQçš„åª½å’ªé–‹çš„å¹¸ç¦å°åº—",
                desc: "å¤–è§€æ˜¯é–“å¯æ„›çš„å°å’–å•¡å»³...åº—å…§çš„èŠ±èŒ¶æ˜¯å¾ä¸–ç•Œå„åœ‹å¸¶å›ä¾†çš„ï¼Œç²¾ç·»æ¯å…·ã€æµªæ¼«ä¸‹åˆèŒ¶", low_cost: "ä¸€æ¯é£²å“",
                notice: "ç²‰çµ²å°ˆé é–‹æ”¾ä¸€æ—¥å‰é ç´„<br>ç•¶å¤©é ç´„è«‹æ‰“åº—è£¡é›»è©±", hours: "é€±äº”ã€å…­ã€æ—¥ 11:30-18:30",
                address: "è‡ºåŒ—å¸‚å…§æ¹–å€æˆåŠŸè·¯äº”æ®µ402è™Ÿ", image: "https://pic.pimg.tw/asus2150/1447801560-4256637352_n.jpg"
            },
            {
                id: 12, name: "Cozy Cowork Cafe", district: "æ¾å±±å€", tags: ["æä¾›ç§Ÿå€Ÿ", "æ‡¶éª¨é ­", "å…±äº«ç©ºé–“"],
                category: "è®€æ›¸è¾¦å…¬", feature: "çµåˆå·¥ä½œèˆ‡ç¤¾äº¤çš„å…±äº«ç©ºé–“",
                desc: "é›†å·¥ä½œã€æœƒè­°ã€ä¼‘é–’æ–¼ä¸€é«”çš„å¤šåŠŸèƒ½å’–å•¡å»³ã€‚é é›¢å–§å›‚çš„è¡—é“ï¼Œé€™è£¡çŒ¶å¦‚ä¸€è™•ç§˜å¢ƒï¼Œè®“äººå¸ä¸‹å¿™ç¢Œç”Ÿæ´»çš„å£“åŠ›ã€‚", low_cost: "ä¸€æ¯é£²å“",
                notice: " æœ‰æ’åº§ï½œæœ‰WiFi ï¼ˆç¶²é€Ÿéå¸¸å¿«ï¼‰<br>æä¾›ç¨ç«‹åŒ…å»‚", hours: "æ¯æ—¥ 10:00-19:00",
                address: "è‡ºåŒ—å¸‚æ¾å±±å€å…‰å¾©å—è·¯22å··17è™Ÿ", image: "https://coffeeshop-library.com/wp-content/uploads/2024/11/cozy-coworkers-by-coffeeshop-library-2.jpg"
            },
        ];

        window.cafes = mockCafesData;

        // --- App åˆå§‹åŒ–èˆ‡æ ¸å¿ƒé‚è¼¯ (å·²ç§»é™¤ Firebase ä¾è³´) ---

        window.initApp = async () => {
            loadLocalFavorites(); // è¼‰å…¥æœ¬åœ°æ”¶è—
            window.renderAllCafes();
            window.renderFavoritesSection();
        };

        window.toggleFavorite = async (cafeId) => {
            const cafeIdStr = String(cafeId);
            const cafe = window.cafes.find(c => String(c.id) === cafeIdStr);
            if (!cafe) return;

            if (window.favorites[cafeIdStr]) {
                // ç§»é™¤æ”¶è—
                delete window.favorites[cafeIdStr];
                window.showMessageBox(`å·²ç§»é™¤: ${cafe.name}`, "icy-blue");
            } else {
                // æ–°å¢æ”¶è—
                window.favorites[cafeIdStr] = { 
                    name: cafe.name, 
                    category: cafe.category, 
                    visited: false, 
                    rating: 0, 
                    createdAt: new Date().toISOString() 
                };
                window.showMessageBox(`å·²æ”¶è—: ${cafe.name}`, "deep-brown");
            }
            saveLocalFavorites();
            window.renderAllCafes();
            window.renderFavoritesSection();
        };

        window.updateFavorite = async (cafeId, field, value) => {
            const cafeIdStr = String(cafeId);
            if (!window.favorites[cafeIdStr]) return;
            
            window.favorites[cafeIdStr][field] = value;
            saveLocalFavorites();
            window.renderFavoritesSection();
            window.showMessageBox("ç‹€æ…‹å·²æ›´æ–°!", "icy-blue");
        };

        window.createRatingStars = (cafeId, currentRating) => {
            let html = '';
            for (let i = 1; i <= 5; i++) {
                const isChecked = i <= currentRating;
                // æ³¨æ„ï¼šé€™è£¡çš„ onclick åƒæ•¸ cafeId å¿…é ˆæ˜¯å­—ä¸²ï¼Œå› ç‚º favorites key æ˜¯å­—ä¸²
                html += `<button onclick="window.updateFavorite('${cafeId}', 'rating', ${i})" class="text-xl transition hover:scale-110"><svg class="w-5 h-5 inline-block ${isChecked ? 'text-yellow-500' : 'text-gray-300'}" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.381-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg></button>`;
            }
            return html;
        };

        const createCafeCard = (cafe) => {
            const isFavorite = !!window.favorites[cafe.id];
            const tagsHtml = cafe.tags.map(tag => `<span class="text-xs px-2 py-0.5 rounded-full bg-icy-blue/30 text-deep-brown font-light shadow-sm">${tag}</span>`).join('');
            const heartIcon = isFavorite 
                ? `<svg class="w-6 h-6 fill-red-500 stroke-red-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>`
                : `<svg class="w-6 h-6 stroke-deep-brown" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.054-4.312 2.675-.494 1.024-.265 2.15.717 2.992l1.624 1.432c.515.467.515 1.196 0 1.663L11.75 16.92c-.982.842-1.211 1.968-.717 2.992.715 1.621 2.377 2.675 4.312 2.675 2.589 0 4.688-2.015 4.688-4.5z"/></svg>`;

            return `
                <div class="cafe-card bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 ease-in-out transform hover:-translate-y-1" data-id="${cafe.id}">
                    <div class="h-40 overflow-hidden relative">
                        <img src="${cafe.image}" alt="" class="w-full h-full object-cover transition duration-500 hover:scale-105" onerror="this.onerror=null;this.src='https://placehold.co/800x600/4A2E2A/A9D7E0?text=Quiet+Focus';">
                        <button onclick="window.toggleFavorite(${cafe.id})" class="absolute top-3 right-3 p-1 rounded-full bg-white/70 backdrop-blur-sm hover:bg-white transition-colors" aria-label="Toggle favorite">
                            ${heartIcon}
                        </button>
                    </div>
                    <div class="p-4 flex flex-col space-y-2">
                        <!-- åº—åï¼šæ”¹ç”¨ Serif å­—é«”ï¼ŒåŠ ç²— -->
                        <h3 class="text-xl font-bold font-serif text-deep-brown tracking-wide">${cafe.name}</h3>
                        <div class="flex flex-wrap gap-1.5">${tagsHtml}</div>
                        <p class="text-sm text-gray-600 italic mt-1">${cafe.feature}</p>
                        <button onclick="window.showDetailsModal(${cafe.id})" class="mt-3 w-full py-2 bg-icy-blue text-deep-brown rounded-lg font-light hover:bg-icy-blue/80 shadow-md">æŸ¥çœ‹è©³ç´°è³‡è¨Š</button>
                    </div>
                </div>
            `;
        };

        window.renderAllCafes = (filterText = '') => {
            const categories = ["ç‰¹è‰²é£²å“", "æ‹ç…§æ‰“å¡", "è®€æ›¸è¾¦å…¬", "èŠå¤©èšæœƒ"];
            const container = document.getElementById('category-display-container');
            container.innerHTML = '';
            
            const filteredCafes = window.cafes.filter(cafe => {
                if (!filterText) return true;
                const lowerCaseFilter = filterText.toLowerCase();
                const searchableText = `${cafe.name} ${cafe.district} ${cafe.tags.join(' ')} ${cafe.feature}`.toLowerCase();
                return searchableText.includes(lowerCaseFilter);
            });

            if (filteredCafes.length === 0) {
                 container.innerHTML = `<p class="col-span-full text-center py-10 text-xl text-deep-brown/70 font-serif">æŠ±æ­‰ï¼Œæ‰¾ä¸åˆ°ç¬¦åˆã€Œ${filterText}ã€çš„å’–å•¡å»³ã€‚</p>`;
                return;
            }

            if (filterText) {
                let listHtml = filteredCafes.map(createCafeCard).join('');
                container.innerHTML = `
                    <div class="col-span-full mb-8">
                        <h2 class="text-3xl font-bold font-serif text-deep-brown border-b-2 border-icy-blue pb-2 mb-6">æœå°‹çµæœ (${filteredCafes.length})</h2>
                    </div>
                    <div class="col-span-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">${listHtml}</div>
                `;
                return;
            }
            
            categories.forEach(category => {
                const categoryCafes = filteredCafes.filter(cafe => cafe.category === category);
                if (categoryCafes.length > 0) {
                    let cardsHtml = categoryCafes.map(createCafeCard).join('');
                    // åˆ†é¡æ¨™é¡Œï¼šæ”¹ç”¨ Serif å­—é«”ï¼ŒåŠ ç²—
                    container.innerHTML += `
                        <div id="section-${category}" class="col-span-full pt-16 -mt-16">
                            <h2 class="text-3xl font-bold font-serif text-deep-brown border-b-2 border-icy-blue pb-2 mb-6 tracking-wider">${category}</h2>
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">${cardsHtml}</div>
                        </div>
                    `;
                }
            });
        };
        
        window.renderFavoritesSection = () => {
            const container = document.getElementById('favorites-content');
            container.innerHTML = '';
            
            // å°‡ favorites ç‰©ä»¶è½‰æ›ç‚ºé™£åˆ—ï¼Œä¸¦ç¢ºä¿ cafe data å­˜åœ¨
            const favoriteCafes = Object.keys(window.favorites).map(id => {
                const cafe = window.cafes.find(c => String(c.id) === id);
                return { ...cafe, ...window.favorites[id], dbId: id };
            }).filter(c => c.id !== undefined && c.name); // éæ¿¾æ‰æ‰¾ä¸åˆ°åŸå§‹è³‡æ–™çš„æ”¶è—

            if (favoriteCafes.length === 0) {
                container.innerHTML = `<p class="text-center text-gray-500 py-10 font-serif">æ‚¨çš„æ”¶è—æ¸…å–®æ˜¯ç©ºçš„ï¼Œå»æ¢ç´¢ä¸€äº›å’–å•¡å»³å§ï¼</p>`;
                return;
            }

            let listHtml = favoriteCafes.map(cafe => {
                const visitedBg = cafe.visited ? 'bg-deep-brown text-white' : 'bg-white text-deep-brown border border-deep-brown';
                // é€™è£¡ä½¿ç”¨ cafe.dbId (å³ cafe.id çš„å­—ä¸²å½¢å¼)
                const ratingStars = window.createRatingStars(cafe.dbId, cafe.rating); 
                return `
                    <div class="bg-white rounded-xl p-4 shadow-md flex flex-col md:flex-row justify-between items-start md:items-center space-y-3 md:space-y-0">
                        <div class="flex-grow">
                            <!-- æ”¶è—åˆ—è¡¨åº—åï¼šSerif, Bold -->
                            <h4 class="text-xl font-bold font-serif text-deep-brown">${cafe.name} <span class="text-sm font-sans font-light text-gray-500 ml-2">(${cafe.category})</span></h4>
                            <p class="text-sm text-gray-600 mt-1">${cafe.feature}</p>
                        </div>
                        <div class="flex flex-col md:flex-row items-start md:items-center space-y-2 md:space-y-0 md:space-x-4 mt-3 md:mt-0">
                            <div class="flex items-center space-x-1"><span class="text-sm font-light text-gray-500 mr-2">å€‹äººè©•åˆ†:</span>${ratingStars}</div>
                            <button onclick="window.updateFavorite('${cafe.dbId}', 'visited', ${!cafe.visited})" class="text-sm px-3 py-1 rounded-full transition hover:opacity-80 ${visitedBg}">${cafe.visited ? 'å·²å»é' : 'æ¨™è¨˜ç‚ºå·²å»'}</button>
                            <button onclick="window.toggleFavorite(${cafe.dbId})" class="text-gray-400 hover:text-red-500"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>
                        </div>
                    </div>
                `;
            }).join('');
            container.innerHTML = `<div class="space-y-4">${listHtml}</div>`;
        };

        window.showDetailsModal = (cafeId) => {
            const cafe = window.cafes.find(c => c.id === cafeId);
            if (!cafe) return;
            const tagsHtml = cafe.tags.map(tag => `<span class="text-sm px-3 py-1 rounded-full bg-icy-blue/50 text-deep-brown font-medium shadow-sm">${tag}</span>`).join('');
            const isFavorite = !!window.favorites[cafe.id];
            const heartIcon = isFavorite 
                ? `<svg class="w-8 h-8 fill-red-500 stroke-red-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>`
                : `<svg class="w-8 h-8 stroke-deep-brown hover:fill-red-500 hover:stroke-red-500 transition-colors" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.054-4.312 2.675-.494 1.024-.265 2.15.717 2.992l1.624 1.432c.515.467.515 1.196 0 1.663L11.75 16.92c-.982.842-1.211 1.968-.717 2.992.715 1.621 2.377 2.675 4.312 2.675 2.589 0 4.688-2.015 4.688-4.5z"/></svg>`;
            
            const content = `
                <div class="modal-overlay fixed inset-0 z-40 flex items-center justify-center p-4" onclick="window.hideDetailsModal()">
                    <div class="bg-apricot rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl transform transition-all duration-300" onclick="event.stopPropagation()">
                        <div class="relative h-64 md:h-80 overflow-hidden rounded-t-2xl">
                            <img src="${cafe.image}" alt="" class="w-full h-full object-cover" onerror="this.onerror=null;this.src='https://placehold.co/800x600/F5EDE2/4A2E2A?text=Coffee';">
                            <button onclick="window.toggleFavorite(${cafe.id})" class="absolute top-4 right-4 p-2 rounded-full bg-white/80 hover:bg-white shadow-lg">${heartIcon}</button>
                            <button onclick="window.hideDetailsModal()" class="absolute top-4 left-4 p-2 rounded-full bg-deep-brown text-white hover:bg-deep-brown/80 shadow-lg"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>
                        </div>
                        <div class="p-6 md:p-10 space-y-6">
                            <div>
                                <!-- Modal åº—åï¼šSerif, Bold -->
                                <h2 class="text-4xl font-bold font-serif text-deep-brown mb-2 tracking-wide">${cafe.name}</h2>
                                <div class="flex flex-wrap gap-2"><span class="text-sm px-3 py-1 rounded-full bg-deep-brown text-white font-medium">${cafe.category}</span>${tagsHtml}</div>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold font-serif text-icy-blue mb-2">ç°¡ä»‹</h3>
                                <p class="text-gray-700 leading-relaxed">${cafe.desc}</p>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-icy-blue pt-4">
                                <div>
                                    <h3 class="text-xl font-bold font-serif text-icy-blue mb-2">æ¶ˆè²»èˆ‡é™åˆ¶äº‹é …</h3>
                                    <ul class="text-gray-700 space-y-1"><li><span class="font-medium text-deep-brown">ä½æ¶ˆï¼š</span>${cafe.low_cost}</li><li><span class="font-medium text-deep-brown">æ³¨æ„äº‹é …ï¼š</span>${cafe.notice}</li></ul>
                                </div>
                                <div>
                                    <h3 class="text-xl font-bold font-serif text-icy-blue mb-2">ç‡Ÿæ¥­è³‡è¨Š</h3>
                                    <ul class="text-gray-700 space-y-1">
                                        <li><span class="font-medium text-deep-brown">ç‡Ÿæ¥­æ™‚é–“ï¼š</span>${cafe.hours}</li>
                                        <li><span class="font-medium text-deep-brown">åœ°å€ï¼š</span>${cafe.address}</li>
                                        <li><a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(cafe.address)}" target="_blank" class="text-icy-blue hover:text-deep-brown flex items-center">æŸ¥çœ‹åœ°åœ–é€£çµ <i data-lucide="external-link" class="w-4 h-4 ml-1"></i></a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('modal-container').innerHTML = content;
            lucide.createIcons();
            document.getElementById('modal-container').classList.remove('hidden');
        };

        window.hideDetailsModal = () => {
            document.getElementById('modal-container').classList.add('hidden');
            document.getElementById('modal-container').innerHTML = '';
        };

        window.showMessageBox = (message, color) => {
            const box = document.getElementById('message-box');
            box.textContent = message;
            box.className = `fixed top-5 left-1/2 -translate-x-1/2 z-50 px-6 py-3 rounded-full shadow-lg text-white transition-opacity duration-300`;
            box.classList.remove('hidden', 'bg-deep-brown', 'bg-icy-blue');
            box.classList.add(color === 'deep-brown' ? 'bg-deep-brown' : 'bg-icy-blue', color === 'icy-blue' ? 'text-deep-brown' : 'text-white');
            setTimeout(() => { box.classList.add('hidden'); }, 3000);
        };

        document.addEventListener('DOMContentLoaded', () => {
            window.initApp(); // ç«‹å³åˆå§‹åŒ– App

            const searchInput = document.getElementById('search-input');
            const searchButton = document.getElementById('search-button');
            const handleSearch = () => {
                const query = searchInput.value.trim();
                window.renderAllCafes(query);
                if (query) document.getElementById('category-display-container').scrollIntoView({ behavior: 'smooth', block: 'start' });
            };
            searchButton.addEventListener('click', handleSearch);
            searchInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') handleSearch(); });

            document.querySelectorAll('a[href^="#section-"], a[href="#favorites-section"], a[href="#hero"]').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    if (targetId === 'hero') { window.scrollTo({ top: 0, behavior: 'smooth' }); window.history.pushState(null, '', this.getAttribute('href')); return; }
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) { targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' }); window.history.pushState(null, '', this.getAttribute('href')); }
                });
            });
            
            let currentIndex = 0;
            const featuredCafes = [window.cafes[2], window.cafes[1], window.cafes[0]];
            const carouselContainer = document.getElementById('featured-carousel');
            const updateCarousel = () => {
                const cafe = featuredCafes[currentIndex];
                carouselContainer.innerHTML = `
                    <div class="p-6 md:p-10 bg-white rounded-xl shadow-lg flex flex-col md:flex-row items-center gap-6 transition-opacity duration-500">
                        <img src="${cafe.image}" alt="" class="w-full md:w-1/3 h-40 md:h-full object-cover rounded-lg" onerror="this.onerror=null;this.src='https://placehold.co/400x300/F5EDE2/4A2E2A?text=Coffee';">
                        <div class="flex-grow">
                            <!-- ç²¾é¸åº—å®¶åº—åï¼šSerif, Bold -->
                            <h3 class="text-3xl font-bold font-serif text-deep-brown tracking-wide">${cafe.name}</h3>
                            <p class="text-lg text-gray-700 mt-2">${cafe.feature}</p>
                            <button onclick="window.showDetailsModal(${cafe.id})" class="mt-4 px-6 py-2 bg-deep-brown text-white rounded-lg font-light hover:bg-deep-brown/80 transition-colors">ç«‹å³æ¢ç´¢</button>
                        </div>
                    </div>
                `;
                currentIndex = (currentIndex + 1) % featuredCafes.length;
            };
            updateCarousel();
            setInterval(updateCarousel, 7000);
        });
    </script>

    <div id="message-box" class="hidden"></div>
    <div id="modal-container" class="hidden"></div>
    
    <header class="sticky top-0 z-30 bg-apricot/95 backdrop-blur-sm shadow-md">
        <div class="container mx-auto px-4 sm:px-6 py-4 flex justify-between items-center">
            <!-- Logoï¼šSerif, Bold -->
            <a href="#hero" class="text-3xl font-bold font-serif text-deep-brown tracking-widest">Mapresso</a>
            
            <nav class="hidden md:flex space-x-6">
                <!-- å°è¦½åˆ—é€£çµå­—é«”ï¼šSerif, Semibold -->
                <a href="#section-ç‰¹è‰²é£²å“" class="text-deep-brown hover:text-icy-blue font-serif font-semibold tracking-wide">ç‰¹è‰²é£²å“</a>
                <a href="#section-æ‹ç…§æ‰“å¡" class="text-deep-brown hover:text-icy-blue font-serif font-semibold tracking-wide">æ‹ç…§æ‰“å¡</a>
                <a href="#section-è®€æ›¸è¾¦å…¬" class="text-deep-brown hover:text-icy-blue font-serif font-semibold tracking-wide">è®€æ›¸è¾¦å…¬</a>
                <a href="#section-èŠå¤©èšæœƒ" class="text-deep-brown hover:text-icy-blue font-serif font-semibold tracking-wide">èŠå¤©èšæœƒ</a>
                <a href="#favorites-section" class="text-deep-brown hover:text-icy-blue font-serif font-semibold tracking-wide flex items-center">
                    <i data-lucide="heart" class="w-4 h-4 mr-1"></i>æˆ‘çš„æ”¶è—
                </a>
            </nav>

            <div class="md:hidden">
                <a href="#favorites-section" class="text-deep-brown hover:text-icy-blue font-medium flex items-center">
                    <i data-lucide="heart" class="w-5 h-5"></i>
                </a>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 sm:px-6 py-12 space-y-20">
        <section id="hero" class="text-center pt-8 pb-16">
            <!-- ä¸»æ¨™é¡Œï¼šSerif, Bold -->
            <!-- ä¿®æ­£å­—é«”å¤§å°ï¼šæ™®éèª¿å°ä¸€éšï¼Œç¢ºä¿åœ¨æ‰€æœ‰è¢å¹•å°ºå¯¸ä¸‹ä¿æŒå–®è¡Œé¡¯ç¤º -->
            <h1 class="text-3xl sm:text-3xl md:text-4xl lg:text-5xl font-bold font-serif text-deep-brown tracking-widest mb-4 leading-tight">
                ä¸€éµæŠµé”ï¼Œä½ æƒ³æ‰¾çš„é‚£é–“å’–å•¡å»³ã€‚
            </h1>
            <p class="text-xl text-gray-600 mb-8 font-light">æ ¹æ“šé¢¨æ ¼ã€åœ°é»ã€éœ€æ±‚ï¼Œå³åˆ»æ‰¾åˆ°æœ€ç¬¦åˆçš„å’–å•¡å»³ã€‚</p>
            
            <div class="max-w-xl mx-auto flex shadow-xl rounded-full overflow-hidden bg-white">
                <input type="text" id="search-input" placeholder="è¼¸å…¥åœ°å€ã€ç‰¹è‰²ã€åº—å..." class="w-full px-6 py-3 text-lg font-light text-deep-brown bg-transparent focus:outline-none">
                <button id="search-button" class="bg-deep-brown text-white px-6 py-3 hover:bg-deep-brown/90"><i data-lucide="search" class="w-6 h-6"></i></button>
            </div>

            <nav class="md:hidden mt-8 flex flex-wrap justify-center gap-3">
                <a href="#section-ç‰¹è‰²é£²å“" class="px-4 py-2 bg-icy-blue/70 text-deep-brown rounded-full text-sm font-medium">ç‰¹è‰²é£²å“</a>
                <a href="#section-æ‹ç…§æ‰“å¡" class="px-4 py-2 bg-icy-blue/70 text-deep-brown rounded-full text-sm font-medium">æ‹ç…§æ‰“å¡</a>
                <a href="#section-è®€æ›¸è¾¦å…¬" class="px-4 py-2 bg-icy-blue/70 text-deep-brown rounded-full text-sm font-medium">è®€æ›¸è¾¦å…¬</a>
                <a href="#section-èŠå¤©èšæœƒ" class="px-4 py-2 bg-icy-blue/70 text-deep-brown rounded-full text-sm font-medium">èŠå¤©èšæœƒ</a>
            </nav>
        </section>
        
        <section>
            <!-- å°æ¨™é¡Œï¼šSerif, Semibold -->
            <h2 class="text-3xl font-semibold font-serif text-deep-brown text-center mb-8 tracking-wide">ä»Šå¤©é©åˆé€™æ¨£çš„å’–å•¡å‘³ã€‚</h2>
            <div id="featured-carousel" class="w-full max-w-4xl mx-auto"></div>
        </section>

        <section id="favorites-section" class="pt-16 -mt-16">
            <h2 class="text-3xl font-bold font-serif text-deep-brown border-b-2 border-deep-brown pb-2 mb-6 flex items-center tracking-wide">
                <i data-lucide="heart" class="w-6 h-6 mr-2 fill-deep-brown stroke-deep-brown"></i>æˆ‘çš„æ”¶è—
            </h2>
            <div id="favorites-content" class="min-h-[150px]">
                <p class="text-center text-gray-500 py-10">æ­£åœ¨è¼‰å…¥æœ¬è£ç½®çš„æ”¶è—è³‡æ–™...</p>
            </div>
        </section>

        <section>
            <div class="grid grid-cols-1 gap-12" id="category-display-container">
                <p class="text-center text-gray-500 py-10">å’–å•¡å»³è³‡æ–™è¼‰å…¥ä¸­...</p>
            </div>
        </section>
    </main>
    
    <footer class="bg-deep-brown mt-12 py-10">
        <div class="container mx-auto px-4 sm:px-6 text-center text-apricot">
            <!-- é å°¾æ¨™èªï¼šSerif, Bold -->
            <p class="text-2xl font-bold font-serif mb-4 tracking-wide">åœ¨é›™åŒ—ï¼ŒæŠŠå’–å•¡èˆ‡ç”Ÿæ´»é€£æˆä¸€å¼µåœ°åœ–ã€‚</p>
            <div class="space-y-1 text-sm font-light text-apricot/80">
                <p>è¯çµ¡æ–¹å¼ï¼šcontact@coffeemap.tw</p>
                <p>ç‰ˆæ¬Šæ‰€æœ‰ Â© 2025 Mapresso</p>
            </div>
        </div>
    </footer>

    <script>lucide.createIcons();</script>
</body>
</html>